# Run a command
# Commands are given as an array of arguments where the first item
# in the array is the name of the command. 
# TODO Platform dependent handling of command names vs executables
- id: A
  cmd: ['bwa', 'mem', 'mydata_R1_001.fastq', 'mydata_R2_001.fastq']


# Run a script
- id: A_1
  cmd: ['sh']
  stdin: "sleep 30 && echo {{ project_email }}"


# Run a script with a different interpreter
# Note: yaml has a relaxed quote requirement
- id: A_2
  cmd: python2
  stdin: print "Hello, World!"


# Run a command with dependencies
- id: B_{{ project_email }}
  cmd: ['bwa', 'mem', 'mydata_R1_001.fastq', 'mydata_R2_001.fastq']
  after:
  before: C


# Run a command and copy files it made back to the project results directory
- id: C
  cmd: ['bash']
  stdin: echo $(hostname) > where_did_Task_C_run.txt
  stagein: "**"  # String or map of rsync args
  stageout: "**"  # This should handle recursive glob patterns


# Copy files into the working directory and then run a command
- id: Task_D
  cmd: ['bash']
  stdin: head project_data.txt 
  stagein:
    src: ["gs://mybucket.google.com/whatver.txt", "**"]
    include: ["*.bam"]
    exclude: ["*.fastq.gz"]




- id: Z
  cmd: ['sleep', '30']# MUTECT CMD
